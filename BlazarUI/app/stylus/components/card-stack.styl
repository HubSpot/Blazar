// local variables
$card-stack-border-color = #CCD6E2
$card-bg-color = rgba(229, 246, 248, 1)
$card-bg-color-hover = rgba(229, 246, 248, 0.4)
$border = 1px solid $card-stack-border-color
$initial-height = 80px
$transition-duration = .3s
$bg-transition-duration = .15s


// Outer classes
.card-stack
  width 100%
  min-width 600px
  max-width 1000px
  padding 50px 0
  
.card-stack__wrapper
  padding 0 20px


// Individual card and variations
.card-stack__card
  height $initial-height
  border $border
  border-bottom 0
  transition height $transition-duration, margin $transition-duration, padding $transition-duration, box-shadow $transition-duration
    
.card-stack__card--expanded
  height $initial-height + 130px
  margin -10px -20px 0 -20px
  border-bottom $border
  
  & .card-stack__card-main
    background-color $card-bg-color
    border-bottom 1px solid $card-stack-border-color
    
    &:hover
      background-color $card-bg-color
  
  & i
    transition padding $transition-duration
    
  & .repo-branch-card__status
    width 70px
    
  & .repo-branch-card__timestamp
    padding-right 30px
    
.card-stack__card--below-expanded
  border-top 0
  height $initial-height - 10
  
  & .card-stack__card-main
    padding 0 10px
    height $initial-height - 10

.card-stack__card--last
  border-bottom $border
    
  &:hover
    border-bottom $border


// Top card content
.card-stack__card-main
  padding 10px
  height $initial-height
  cursor pointer
  transition background $bg-transition-duration
  
  &:hover
    background-color $card-bg-color-hover
  
  & > div
    display inline-block
    

// Repo-branch card
.repo-branch-card__status
  width 50px
  float left
  height 100%
  transition width $transition-duration
  
  & i
    transition padding $transition-duration
    padding-left 50px
    padding-top 10px
  
.repo-branch-card__repo-and-branch
  width $initial-height + 90px
  height 100%
  vertical-align middle
  
  & span
    display block

.repo-branch-card__build-number
  min-width 50px
  height 100%
  vertical-align middle

.repo-branch-card__timestamp
  min-width 100px
  float right
  height 100%
  vertical-align middle
  transition padding $transition-duration


// Detailed card content
.card-stack__card-details
  width 100%
  background-color white
  padding 15px
